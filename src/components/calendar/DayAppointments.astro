---
const {
  title = 'Turnos del día'
} = Astro.props as {
  title?: string;
};
---

<section class="rounded-3xl border border-white/10 bg-slate-950/70 p-6 shadow-lg shadow-primary/5">
  <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
    <div>
      <h2 class="text-lg font-semibold text-white">{title}</h2>
      <p data-role="day-label" class="text-sm text-slate-400">Selecciona un día para ver los turnos.</p>
    </div>
    <button
      type="button"
      data-action="open-appointment-modal"
      class="inline-flex items-center justify-center rounded-full border border-accent/50 bg-accent px-4 py-2 text-sm font-semibold text-white transition hover:brightness-95 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
    >
      + Nuevo turno
    </button>
  </div>

  <div class="mt-4">
    <label class="block text-xs font-semibold uppercase tracking-wide text-slate-400" for="calendar-search">
      Buscar paciente
    </label>
    <div class="relative mt-2">
      <input
        id="calendar-search"
        data-role="search-input"
        type="search"
        placeholder="Encontrar paciente..."
        class="w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/40"
      />
      <div
        data-role="search-feedback"
        class="pointer-events-none absolute inset-y-0 right-3 flex items-center text-xs text-slate-500"
      ></div>
    </div>
  </div>

  <div class="mt-6 space-y-3" data-role="day-list" role="list">
    <!-- Items poblados por script -->
  </div>

  <div
    data-role="day-empty"
    class="mt-6 hidden rounded-2xl border border-dashed border-white/10 bg-white/5 p-6 text-sm text-slate-400"
  >
    No hay turnos para esta fecha.
  </div>
</section>
